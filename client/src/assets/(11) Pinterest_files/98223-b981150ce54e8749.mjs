"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[98223],{485756:(e,t,n)=>{n.d(t,{xR:()=>f,ZP:()=>h,vR:()=>g});var a=n(658583),r=n(622541),i=n(373314),o=n(217058),s=n(353453),l=n(953565);let p={".pinterdev.com":"pinterdev","playhouse-worker-www":"playhouse-worker-www","playhouse-worker-sterling":"playhouse-worker-sterling","playhouse-worker-analytics":"playhouse-worker-analytics"},d=["accounts-oauth.pinterest.com","analytics-latest.pinterest.com","analytics.pinterest.com","canary.pinterest.com","latest.pinterest.com","sss.www.pinterest.com","testing.pinterest.com","testing-k8s.pinterest.com","unknown","www.pinterest.com","www.pinterest.co.kr","www.pinterest.co.uk","www.pinterest.com.au","www.pinterest.com.mx"],u=/www\.pinterest\.[A-Za-z]{2}/,c=/[A-Za-z]{2}\.pinterest\.com/,m=()=>{let e=navigator&&navigator.userAgent.toLowerCase();if(e){if(e.indexOf("googlebot")>-1||e.indexOf("google web preview")>-1||e.indexOf("google page speed insights")>-1)return"google_bot";if(e.indexOf("msnbot")>-1||e.indexOf("bingbot")>-1)return"ms_bot";if(e.indexOf("applebot")>-1)return"apple_bot";if(e.indexOf("yahoo")>-1||e.indexOf("slurp")>-1)return"yahoo_bot";else if(e.indexOf("yandex")>-1)return"yandex"}},g=e=>{let{userAgent:t}=e;if(!t.isMobile&&!t.isTablet)return"desktop";switch(t.platform){case s.RL:return"iphone";case s.GW:return t.isTablet?"android_tablet":"android";case s.s4:return"ipad";default:return"mobile_other"}};function f(e){if(d.indexOf(e)>-1||u.test(e)||c.test(e))return e;for(let t in p)if(Object.prototype.hasOwnProperty.call(p,t)&&e.indexOf(t)>-1)return p[t];return"other"}let y=({moduleName:e,pageType:t,requestContext:n})=>{let s;let p=g(n),d=n.isAuthenticated?"auth":"unauth",u=m(),c=(0,i.Z)(),y=(s=!1,a.U2(r.VL)||(a.t8(r.VL,"1",(0,a.kZ)(r.VL)),s=!0),s),h=document.domain||"unknown";y&&((0,o.My)(`traffic.${p}.${c}.${e}.${d}`),(0,o.My)(`traffic_subdomain.${h}.${c}.${e}.${d}`),(0,o.My)(`traffic_subdomain.${h}.${p}.${c}.${e}.${d}`),(0,o.My)(`traffic_subdomain.${h}.${p}.${d}`),(0,o.My)(`traffic_duplo.${p}.${c}.${e}.${d}`),u&&(0,o.My)(`traffic_bot.${u}.${e}`));let w={domain:f(h),referrer:c??"unknown",platform:p??"unknown",browser:n.userAgent.browserName??"unknown",bot_type:u??"none",page_type:t??"unknown",is_auth:d??"unknown",module:e??"unknown",moduleType:function(e){if(/.*Board(React)?Page(Wrapper)?$/.test(e))return"Board";if(/Closeup|.*Pin(Landing|React)?Page$/.test(e))return"Pin";if("HomePage"===e||"UnauthHomeReactPage"===e||"LoginPage"===e||"Signup"===e)return"Home";if(/.*ProfilePage(Container)?$/.test(e))return"Profile";if("TopicPage"===e||"UnauthTopicPage"===e)return"Topic";if(/.*TodayTab(Feed)?Page$/.test(e))return"TodayTab";if("UnauthTodayArticleFeedPage"===e||"TodayArticleFeedPage"===e)return"TodayArticle";else if(/.*Idea(s)?RootPage$/.test(e))return"IdeasRoot";else if(/.*Idea(s)?(Topic)?Page$/.test(e))return"Ideas";else if(/.*Video(s)?RootPage$/.test(e))return"VideosRoot";else if(/.*Video(s)?(Category)?Page$/.test(e))return"VideosCategory";else if(/.*ShoppingRootPage$/.test(e))return"ShoppingRoot";else if(/.*Shopping(Category)?Page$/.test(e))return"ShoppingCategory";else return"other"}(e??"unknown"),first_visit:y??"unknown"};(0,l.nP)("webapp.traffic",{sampleRate:.1,tags:w}),("google"===c||"other"===c)&&(0,l.nP)(`webapp.traffic.${p}.${c}`,{sampleRate:.1,tags:w})};function h({pageType:e,requestContext:t,route:n}){y({moduleName:{"/":"HomePage","/login":"LoginPage","/pin/:id":"Closeup","/:username":"ProfilePage","/:username/:slug":"BoardPage","/topics/:interest":"TopicPage","/today":"TodayTabPage","/today/:term/:title/:articleId":"TodayArticleFeedPage","/ideas":"IdeasRootPage","/ideas/:interest/:id":"IdeasPage","/videos":"VideosRootPage","/videos/:category/:id":"VideosCategoryPage","/shopping":"ShoppingRootPage","/shopping/:category/:id":"ShoppingCategoryPage"}[n]||"other",pageType:e,requestContext:t})}},705895:(e,t,n)=>{function a(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>o});let r=new class{constructor(){a(this,"onResumeListeners",[]),a(this,"onPauseListeners",[]),a(this,"inExp",!1),a(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(t=>t!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(t=>t!==e)}getAppState(){return this.windowInFocus?0:void 0}},i=e=>{if(e.isHidden){let{reason:t}=e;r.windowInFocus=!1,r.onPauseListeners.forEach(e=>e(t))}else r.windowInFocus=!0,r.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>i({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>i({isHidden:!1})),window.addEventListener("blur",()=>i({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>i({isHidden:!1})),window.addEventListener("pagehide",()=>i({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>i(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>i(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0);let o=r},603642:(e,t,n)=>{n.d(t,{Z:()=>ee});var a=n(667294),r=n(705895),i=n(685679),o=n(608029),s=n(297329),l=n(107860),p=n(297315),d=n(906623),u=n(521525),c=n(819281),m=n(793250),g=n(309300);let f=({constraintMap:e,initialNavTiming:t,annotations:n})=>({...n,...(0,g.jh)("constraint_",e),...(0,g.jh)("mark_",(0,l.gQ)()),...(0,g.jh)("browser_",{...t?(0,g.D3)(t):{},...(0,g.rX)()})});var y=n(840387);let h=(e,t)=>[...e.map(e=>(0,y.Z)(e,t)).filter(Boolean)];var w=n(302234),_=n(663678),T=n(953565);let A=e=>e<=2500?"Good":e>2500&&e<=4e3?"Needs Improvement":"Poor",E=({eventPrefix:e,endTime:t,tags:n,resourceArr:a,resourceType:r="allResources"})=>{let i=a.length;if(i>0&&"object"==typeof a[0]&&!Array.isArray(a[0])){let o=[...a].sort((e,t)=>e.fetchStart-t.fetchStart),s=[...a].sort((e,t)=>e.responseEnd-t.responseEnd),l=1,p=t/5,d=0;for(;l<=5;){let t=0;for(;d<=i-1&&o[d].fetchStart<=p*l;)d+=1,t+=1;(0,T.S0)(`${e}.tags.${r}.fetchStartInterval${l}of5`,t,{sampleRate:.2,tags:n}),(0,T.S0)(`${e}.${r}.fetchStartInterval${l}of5`,t,{sampleRate:.2}),l+=1}let u={zeroPercentInFlight:o[0].fetchStart,twentyFivePercentInFlight:o[Math.floor(i/4)].fetchStart,fiftyPercentInFlight:o[2*Math.floor(i/4)].fetchStart,seventyFivePercentInFlight:o[3*Math.floor(i/4)].fetchStart,hundredPercentInFlight:o[i-1].fetchStart,twentyFivePercentComplete:s[Math.floor(i/4)].responseEnd,fiftyPercentComplete:s[2*Math.floor(i/4)].responseEnd,seventyFivePercentComplete:s[3*Math.floor(i/4)].responseEnd,hundredPercentComplete:s[i-1].responseEnd};for(let t in u)u[t]&&((0,T.LY)(`${e}.tags.${r}.${t}`,u[t],{sampleRate:.2,tags:n}),(0,T.LY)(`${e}.${r}.${t}`,u[t],{sampleRate:.2}))}},S=({annotateExperiments:e,endTime:t,entries:n,metricId:a,pwtStaticContext:r})=>{let i=`${(0,_.Z)(r)}.${a.surface}`,o=[i];e&&e.forEach(e=>{let t=r.getExperimentGroup(e)||"null";o.push(`${i}.${e}.${t}`)});let s={lcpTimingBucket:A((0,w.Bn)())||"unknown",isAuthenticated:r.isAuthenticated,navigationType:a.navigationType},l=Array.from(n.filter(e=>"number"==typeof e.encodedBodySize&&e.encodedBodySize>=1e4&&e.responseEnd<=t)),p=[],d=[],u=[],c=[],m=[];l.forEach(e=>{"img"===e.initiatorType?p.push(e):"css"===e.initiatorType?d.push(e):"script"===e.initiatorType?u.push(e):"xmlhttprequest"===e.initiatorType?c.push(e):"link"===e.initiatorType&&e.name.includes("i.pinimg.com")&&m.push(e)}),o.forEach(e=>{E({eventPrefix:e,endTime:t,tags:s,resourceArr:l}),E({eventPrefix:e,endTime:t,tags:s,resourceArr:p,resourceType:"image"}),E({eventPrefix:e,endTime:t,tags:s,resourceArr:d,resourceType:"css"}),E({eventPrefix:e,endTime:t,tags:s,resourceArr:u,resourceType:"scripts"}),E({eventPrefix:e,endTime:t,tags:s,resourceArr:c,resourceType:"xhr"}),E({eventPrefix:e,endTime:t,tags:s,resourceArr:m,resourceType:"preloadedImage"})})};var b=n(279600);let v=({startTime:e,responseEnd:t},n)=>e>n.endTime||!!t&&t<n.startTime,P=({annotateExperiments:e,annotations:t,binaryAnnotations:n,constraintMap:a,endTime:r,imageTimings:i,metricId:o,pwtStaticContext:s,startTime:l,traceId:p,spans:d})=>{let g;let y=(0,b.Cg)();"initial_app_load"===o.navigationType&&(g=(0,c.Z)());let w=i.map(({name:e})=>e),_=y.map(e=>(0,m.p)(e,w)).filter(({timing:e})=>!v(e,{startTime:l,endTime:r}));return("board"===o.surface||"pin_closeup"===o.surface)&&S({annotateExperiments:e,endTime:r,entries:y,metricId:o,pwtStaticContext:s}),{type:"COMPLETE",traceId:p,startTime:l,endTime:r,spans:h(_,p).concat(d),annotationMap:f({constraintMap:a,initialNavTiming:g,annotations:t}),binaryAnnotationMap:(0,u.rA)({annotateExperiments:e,binaryAnnotations:n,entries:y,metricId:o,performanceResources:_,pwtEndTime:r,pwtStaticContext:s})}};var I=n(404373);let R=!1,M=(e,t)=>{if(e&&t){if(!R)return R=!0,t;(0,s.H)("duplicated_initial_app_load_surface_pwt")}return(0,I.Z)()};var $=n(363404),L=n(367180);let N=e=>{let t=performance.getEntriesByType("resource").filter(e=>e.name.includes("i.pinimg")).reduce((e,t)=>{let n=t.name.replace(".jpg","").split("/");return{[n[n.length-1]]:{downloadSize:t.name.split("/")[3].split("x")[0]},...e}},{});[...Array.from(document.getElementsByTagName("img")).map(e=>{let n=e.src.replace(".jpg","").split("/"),a=n[n.length-1];if(t[a]){let n=L.rZ(e)?.width||1,r=t[a].downloadSize;return{fileName:a,renderedSize:n,downloadedSize:r,ratio:r/n}}return{fileName:a,renderedSize:1,downloadedSize:1,ratio:1}}),...Array.from(document.querySelectorAll('div[role="img"]')).map(e=>{let n=e.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),a=n[n.length-1];if(t[a]&&e instanceof HTMLDivElement){let n=L.rZ(e)?.width||1,r=t[a].downloadSize;return{fileName:a,renderedSize:n,downloadedSize:r,ratio:r/n}}return{fileName:a,renderedSize:1,downloadedSize:1,ratio:1}})].forEach(t=>{let{ratio:n,fileName:a,downloadedSize:r}=t;t.ratio>1.05&&(0,s.A9)(`checkImageRatio.${e}`,{count:Math.round(10*n)/10,tags:{fileName:`${r}_${a}`}})})};var C=n(970126),O=n(5859);let k=(e,t)=>{let n=(0,a.useRef)(t);return{getState:()=>n.current,dispatch:t=>{n.current=e(n.current,t)}}};var H=n(184960),B=n(785893);let D=["initial_app_load","client_route_push"],Z=(0,o.XV)("PwtSurface"),x="NavigationComplete",U="VisuallyComplete",V=(e,t)=>{e.isSampled&&(0,$.Z)({metricId:e.metricConfig.metricId,pwtStaticContext:e.metricConfig.pwtStaticContext,result:{type:"ABORT",reason:t}})},z=(e,t,n)=>{let{metricConfig:{metricId:a,pwtStaticContext:r,annotateExperiments:o},annotations:p,binaryAnnotations:d,constraintMap:u,startTime:c,imageTimings:m,isSampled:g,spans:f}=e;(0,l.L8)(`PWT_Complete_${(0,i.KJ)(a)}`);let y=M("initial_app_load"===a.navigationType,r.serverData?.trace_id),h=P({annotateExperiments:o,annotations:p,binaryAnnotations:d,constraintMap:u,endTime:t,imageTimings:m,metricId:a,pwtStaticContext:r,startTime:c,traceId:y,spans:f});g&&!n&&(0,$.Z)({metricId:a,pwtStaticContext:r,result:h});try{N(String(h.binaryAnnotationMap["metricId.surface"].value))}catch(e){(0,s.H)("image_ratio_check_error",{error:e})}return{...e,result:h,status:"DONE"}},F=(e,t)=>{if(e.metricConfig.constraints.every(t=>e.constraintMap[t])){let n=Math.max(...e.metricConfig.constraints.map(t=>e.constraintMap[t]));return z(e,n,t)}return Z(`Remaining constraints: ${e.metricConfig.constraints.filter(t=>!e.constraintMap[t]).join(", ")}`),e},G=(e,t)=>{let{constraint:n,time:a,disablePWTLogging:r}=t,o=(0,i.KJ)(e.metricConfig.metricId);return C.Z?e.metricConfig.constraints.find(e=>e===n)?e.constraintMap[n]?(Z(`constraint "${n}" is already complete.`),(0,s.H)("duplicated_constraint_complete",{constraint:n,action:o}),e):(Z(`marking constraint "${n}" as complete`),(0,l.ZP)(`constraint_${n}_is_complete`),F({...e,constraintMap:{...e.constraintMap,[n]:a||C.Z.now()}},r)):(Z(`marked constraint "${n}" is not a required constraint.`),e):((0,s.H)("missing_window_performance",{action:o}),e)},j=(e,t)=>{if(!C.Z){let t=(0,i.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}Z(`removing constraint "${t}"`);let n=e.metricConfig.constraints.filter(e=>e!==t),{[t]:a,...r}=e.constraintMap;return F({...e,constraintMap:r,metricConfig:{...e.metricConfig,constraints:n}})},K=(e,t)=>{if(!C.Z){let t=(0,i.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}Z(`updating pwt segment to "${t}"`);let n={...e.metricConfig.metricId,segment:t};return{...e,metricConfig:{...e.metricConfig,metricId:n}}},W=(e,t)=>{let{metricConfig:n,startTime:a,isSampled:r,disablePWTLogging:o}=t;if(o||"TIMING"!==e.status||a===e.startTime||V(e,"routeUpdatedOnSameSurface"),!n)return{status:"DISABLED",metricConfig:null};let l=(0,i.KJ)(n.metricId);return"TIMING"===e.status&&e.startTime===a&&e.constraintMap[x]?((0,s.H)("duplicated_init_route_action",{action:l}),e):(o||("Other"===n.pwtStaticContext.browserName&&!1===n.metricId.isAuthenticated&&"initial_app_load"===n.metricId.navigationType?((0,s.A9)(`TIMING.${l}`,{tags:{userAgent:window?.navigator?.userAgent}}),(0,s.A9)(`TIMING.sampled.${l}`,{tags:{userAgent:window?.navigator?.userAgent},sampleRate:.5})):((0,s.A9)(`TIMING.${l}`),(0,s.A9)(`TIMING.sampled.${l}`,{sampleRate:.5}))),G({status:"TIMING",metricConfig:n,startTime:a,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:r,spans:[]},{constraint:x,disablePWTLogging:o}))},Y=(e,t)=>{if(Z("dispatch action",t),"INIT_ROUTE"===t.type)return W(e,t.payload);if("TIMING"!==e.status)return Z(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":V(e,t.reason);let n={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:n};case"ANNOTATE":let{name:a}=t.payload;if(!C.Z)return e;let r=C.Z.now();return Z(`adding annotation {${a}: ${r}}`),{...e,annotations:{...e.annotations,[a]:r}};case"BINARY_ANNOTATE":let{name:o,value:l,annotationType:p}=t.payload;return Z(`adding binary annotation {${o}: ${l}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[o]:{value:l,type:p}}};case"MARK_CONSTRAINT_COMPLETE":return G(e,t.payload);case"REMOVE_CONSTRAINT":return j(e,t.payload);case"SET_SEGMENT":return K(e,t.payload);case"SET_VISUALLY_COMPLETE_RESULT":{let{payload:{imageTimings:n}}=t;if(0===n.length)return V(e,"visuallyComplete_noImages"),{...e,status:"DONE",result:{type:"ABORT",reason:"visuallyComplete_noImages"}};let a=Math.max(...n.map(e=>e.responseEnd||0));return G({...e,imageTimings:n},{constraint:U,time:a})}case"ADD_SUBSPAN":let{startTime:d}=e,{payload:{name:u,startTime:c,endTime:m,annotations:g,binaryAnnotations:f,parentId:y}}=t;return{...e,spans:[...e.spans,{name:u,id:(0,I.Z)(),startTime:c||d,endTime:m,annotationMap:{...g},binaryAnnotationMap:{...f},parentId:y}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,I.Z)(),startTime:C.Z?C.Z.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":let h=e.spans.findIndex(e=>e.name===t.payload.name);return h>-1?(e.spans[h].endTime=C.Z?C.Z.now():0,t.payload.annotations&&(e.spans[h].annotationMap={...e.spans[h].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[h].binaryAnnotationMap={...e.spans[h].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,s.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:let w=(0,i.KJ)(e.metricConfig.metricId);return(0,s.H)("invalid_pwt_surface_action",{action:w}),e}},J=e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}},q=new Set,X=({surface:e,constraints:t,segment:n,measureGridVisuallyComplete:i,annotateExperiments:o,customEnabledNavigationTypes:s,navigationInfo:{clientNavigation:l,navigationType:d},sampleRate:u})=>{let c=(0,a.useRef)("NOT_SET"),m=(0,p.N5)(),{getState:g,dispatch:f}=k(Y,{status:"DISABLED",metricConfig:null}),y=(0,O.B)();if(c.current!==l&&(c.current=l,m)){let{isAuthenticated:a}=m,r=e&&d&&(s||D).includes(d)?{metricId:{type:"surface",surface:e,navigationType:d,isAuthenticated:a,segment:n},annotateExperiments:o,constraints:[x,...t||[],...i?[U]:[]],pwtStaticContext:m}:null;(0,T.nP)("webapp.pwt_surface.init_route",{tags:{surface:e,navigationType:d,isAuthenticated:a}});let p=!q.has(l);f({type:"INIT_ROUTE",payload:{metricConfig:r,startTime:l?l.time:0,isSampled:!u||Math.random()<u,disablePWTLogging:!p}}),p&&q.add(l)}let h=g();if((0,a.useEffect)(()=>()=>{q.delete(l)},[l]),(0,a.useEffect)(()=>{let e=e=>{f({type:"ABORT",reason:e})};r.Z.onSessionPause(e);let t=window.innerHeight,n=window.innerWidth,a=()=>{let e=Math.abs(window.innerHeight-t),r=Math.abs(window.innerWidth-n),i=window.innerHeight!==t,o=window.innerWidth!==n,s={handler:(0,H.H)(),deviceType:m?.deviceType??"unknown",isAuthenticated:m?.isAuthenticated??"unknown",platform:y.userAgent.platform??"unknown"};if((0,T.nP)("webapp.PwtLogger.handleResize",{sampleRate:1,tags:{...s,heightChanged:i,widthChanged:o}}),i&&(0,T.S0)("webapp.PwtLogger.resizeHeightDelta",e,{sampleRate:1,tags:s}),o&&(0,T.S0)("webapp.PwtLogger.resizeWidthDelta",r,{sampleRate:1,tags:s}),window.removeEventListener("resize",a),m?.deviceType==="phone"&&(!o&&i&&e<=150||!i&&!o)||m?.deviceType==="desktop"&&!i&&!o){(0,T.nP)("webapp.PwtLogger.skipResizeAbort",{sampleRate:1,tags:{...s,heightChanged:i,widthChanged:o}});return}f({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",a),()=>{let t=g();Z("handling unmount",t),"TIMING"===t.status&&V(t,"unmount"),r.Z.removePauseListener(e),window.removeEventListener("resize",a)}},[]),"TIMING"!==h.status||!h.constraintMap[x])return{state:h,context:null};let{startTime:w,metricConfig:_}=h;return{state:h,context:{abort:e=>f({type:"ABORT",reason:e}),addAnnotation:e=>f({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,n)=>f({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:n}}),addSubspan:(e,t,n,a={},r={},i=null)=>f({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:n,annotations:a,binaryAnnotations:r,parentId:i}}),getId:()=>w,getMetricId:()=>_.metricId,markConstraintComplete:e=>f({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:C.Z?C.Z.now():0}}),removeConstraint:e=>f({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>f({type:"SET_SEGMENT",payload:e}),setVisuallyCompleteResult:_.constraints.includes(U)?e=>f({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,startSubspan:(e,t={},n={},a=null)=>f({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:a}}),stopSubspan:(e,t={},n={},a=null)=>f({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:a}})}}},Q=()=>{let e=(0,d.E)(),t=!!e;(0,a.useEffect)(()=>{if(t){let t=e?.getMetricId(),n=t?(0,i.KJ)(t):null;(0,s.H)("nested_pwt_surface",{action:n})}},[t])};function ee({children:e,...t}){let n=(0,p.fM)(),a=J(n),r=t.measureGridVisuallyComplete?["web_masonry_v2_auth","web_masonry_v2_unauth"]:[],i=[...t.annotateExperiments??[],...r],{context:o}=X({...t,annotateExperiments:i,navigationInfo:{navigationType:a,clientNavigation:n}});return Q(),(0,B.jsx)(d.S,{value:o,children:e})}},939129:(e,t,n)=>{n.d(t,{e:()=>a,n:()=>r});let a=e=>{switch(e){case"/pin/:id":case"/pin/:id/sent":return"pin_closeup";case"/:username/:slug":return"board";case"/:username":return"other_profile";case"/ideas/:interest/:id":return"topic";default:return null}},r=e=>{let t=[{pattern:"/",name:"homefeed"},{pattern:"/pin/:id",name:"pin_closeup"},{pattern:"/pin/:id/sent",name:"pin_closeup"},{pattern:"/pin/:id/visual-search",name:"flashlight"},{pattern:"/amp/pin/:id",name:"amp"},{pattern:"/today",name:"today"},{pattern:"/search",name:"search_landing_page"},{pattern:"/search/:scope",name:"search_results"},{pattern:"/notifications",name:"notifications"},{pattern:"/settings",name:"settings_landing_page"},{pattern:"/settings/:tab",name:"settings_tab"},{pattern:"/:username/_created",name:"profile_created_tab"},{pattern:"/:username/_saved",name:"profile_saved_tab"},{pattern:"/:username/:slug",name:"board"},{pattern:"/:username",name:"profile"},{pattern:"/ideas/:interest/:id",name:"topic"}].find(t=>{if(!e)return"pathname_invalid";let n=t.pattern.split("/").filter(e=>""!==e),a=e.split("/").filter(e=>""!==e);if(n.length!==a.length)return!1;for(let e=0;e<n.length;e+=1)if(!n[e].startsWith(":")&&a[e]!==n[e])return!1;return!0});return t?t.name:"unknown"}},865611:(e,t,n)=>{n.d(t,{Z:()=>a});let a=e=>e<100?"0-100ms":e<250?"100-250ms":e<500?"250-500ms":e<1e3?"500-1000ms":e<2e3?"1000-2000ms":e<3e3?"2000-3000ms":e<4e3?"3000-4000ms":e<5e3?"4000-5000ms":e<6e3?"5000-6000ms":e<7e3?"6000-7000ms":e<8e3?"7000-8000ms":e<9e3?"8000-9000ms":e<1e4?"9000-10000ms":e<15e3?"10000-15000ms":e<2e4?"15000-20000ms":e<25e3?"20000-25000ms":"25000+ms"},371626:(e,t,n)=>{n.d(t,{Z:()=>a});let a=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";case"CA":return"CA";case"GB":return"GB";case"FR":return"FR";case"DE":return"DE";case"AU":return"AU";case"IN":return"IN";default:return"OTHER"}}},396596:(e,t,n)=>{n.d(t,{Z:()=>a});function a(e){let t=e.split("?")[0]??"";if(!t.startsWith("/pin/"))return null;let n=t.split("/")[3];return n?"feedback"===n||"sent"===n?n:null:"default"}},421715:(e,t,n)=>{n.d(t,{V:()=>i,b:()=>r});let a=e=>e?e.tagName||null!==e.parentElement?"HTML"===e.tagName&&null===e.parentElement?"HTML":"BODY"===e.tagName&&e.parentElement?.tagName==="HTML"?"BODY":e.dataset.layoutShiftBoundaryID||e.dataset.testId?e.dataset.layoutShiftBoundaryID||e.dataset.testId:e.parentElement?a(e.parentElement):"NOT_A_NODE":"DOCUMENT":"NODE_REMOVED",r=e=>{let t=e.attribution.processedEventEntries.find(t=>t.startTime===e.attribution.interactionTime),n=t?t.target:null;return n?a(n):"NODE_REMOVED"},i=e=>e?a(e):"NODE_REMOVED"},353453:(e,t,n)=>{n.d(t,{GW:()=>r,RL:()=>a,s4:()=>i});let a="ios",r="android",i="ipad"}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/98223-b981150ce54e8749.mjs.map